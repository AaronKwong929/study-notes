# 生成概率相同的随机数

> https://github.com/shfshanyue/Daily-Question/issues/711

已知有一个函数 叫做 random5，执行这个函数会随机返回 0-5 之间任意一个数，概率相同。

根据这个 random5，实现一个 random7，要求执行这个函数后随机返回 0-7 之间任意一个数，概率相同。

## Math.random()

> api 解释 https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/random

伪随机数在范围从 0 到小于 1，即包括 0，不包括 1 `[0, 1)`

## 完整代码

### [min, max)

```js
parseInt(Math.random() * (max - min) + min);
```

例如要`[4, 6)` random 返回`0 - 1随机数`，`[0, 1) * (6 - 4) + 4` = `[0, 2) + 4` = `[4, 6)`

### [min, max]

```js
parseInt(Math.random() * (max - min + 1) + min);
```

例：`[0, 6]` ==> `M.r() * (6 - 0 + 1)` = `M.r() * 7` ==> 生成 `[0, 7)` ==> parseInt ==> `[0, 6] + 0` = `[0, 6]`

### (min, max]

基于 `[min, max)` + 1 即可得到 `(min, max]`

```js
parseInt(Math.random() * (max - min) + min) + 1;
```

### (min, max)

```js
parseInt(Math.random() * (max - min - 1) + min + 1);
```

## 测试

取 `[min, max)` 进行测试

```js
const count = {};
let min = 0,
  max = 5;
for (let i = 0; i < 100000; i++) {
  let cur = parseInt(Math.random() * (max - min) + min);
  if (!count[cur]) count[cur] = 1;
  else count[cur]++;
}
console.log(count);
```

![](https://cdn.jsdelivr.net/gh/aaronkwong929/pictures/20210809141908.png)

基本是相同概率的
