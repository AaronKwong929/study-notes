# 封装 echarts 业务组件的一些思路

## 组件基本结构

![完成图.jpg](https://raw.githubusercontent.com/AaronKwong929/pictures/master/20210618094629.png)

![草图.jpg](https://raw.githubusercontent.com/AaronKwong929/pictures/master/20210618094132.png)

顶部展示该图表的名称，以及一个 slot 作为图表自定义操作

按钮区点击对应的按钮以切换数据展示，可以同时选中 2 个按钮的数据进行渲染，最少选中 1 个

图表区用于挂载 Echarts 实例

### 切换图表数据的设计

为了确保切换数据的时候能正确渲染，每一次切换都进行重新挂载（点击第三个按钮的时候数据会从 1，2 切换到 2，3；此时自定义图表颜色可能会出错）

### 图表数据挂载

#### 切换数据导致图线自定义颜色错误的问题

选中的数据前一个是蓝线，后一个是绿线，从 1，2 到 2，3：产品要求是 2 变成蓝色，3 变成绿色。直接切换数据会导致按钮 2 （蓝色）但实际上是绿线，3（绿色）但图线是蓝色

### Echarts - tooltip 渲染函数

### 标题渲染函数

### Vue3 过度包装 Echarts 实例
